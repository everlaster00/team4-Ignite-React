{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///Users/admin/Desktop/team4-ignite-react/src/app/actions/profile-actions.js"],"sourcesContent":["'use server';\n\nimport fs from 'fs/promises';\nimport path from 'path';\n\nexport async function updateProfile(formData) {\n  const name = formData.get('name');\n  const bio = formData.get('bio');\n  const avatar = formData.get('avatar');\n\n  if (avatar && avatar.size > 0) {\n    console.log('업로드된 파일: ', {\n      name: avatar.name,\n      size: avatar.size,\n      type: avatar.type,\n    });\n\n    if (avatar.size > 20 * 1024 * 1024) {\n      // 20MB\n      console.log('파일은 최대 20MB까지 업로드할 수 있습니다.');\n      return {\n        error: '파일은 최대 20MB까지 업로드할 수 있습니다.',\n      };\n    }\n\n    if (!avatar.type.startsWith('image/')) {\n      console.log('이미지 파일만 업로드 가능합니다.');\n      return {\n        error: '파일은 최대 20MB까지 업로드할 수 있습니다.',\n      };\n    }\n\n    // 실제로 여기서 파일을 저장\n    // 1. 내 컴퓨터 스토리지 저장 (Vercel, Firebase 같은 플랫폼에서는 사용 불가능)\n    // 2. AWS S3 같은 외부 스토리지 서비스 사용\n\n    const filename = Date.now() + '_' + avatar.name;\n    const uploadDir = path.join(process.cwd(), 'public', 'uploads');\n    await fs.mkdir(uploadDir, { recursive: true });\n\n    const arrayBuffer = await avatar.arrayBuffer();\n    const buffer = Buffer.from(arrayBuffer);\n\n    const fullPath = path.join(uploadDir, filename);\n    await fs.writeFile(fullPath, buffer);\n\n    console.log('프로필 업데이트에 성공했습니다.');\n    console.log('프로필 이미지 경로: ', `/uploads/${filename}`);\n    return {\n      success: true,\n      message: '프로필 업데이트에 성공했습니다.',\n    };\n  }\n}\n"],"names":[],"mappings":";;;;;;AAEA;AACA;;;;;;AAEO,eAAe,cAAc,QAAQ;IAC1C,MAAM,OAAO,SAAS,GAAG,CAAC;IAC1B,MAAM,MAAM,SAAS,GAAG,CAAC;IACzB,MAAM,SAAS,SAAS,GAAG,CAAC;IAE5B,IAAI,UAAU,OAAO,IAAI,GAAG,GAAG;QAC7B,QAAQ,GAAG,CAAC,aAAa;YACvB,MAAM,OAAO,IAAI;YACjB,MAAM,OAAO,IAAI;YACjB,MAAM,OAAO,IAAI;QACnB;QAEA,IAAI,OAAO,IAAI,GAAG,KAAK,OAAO,MAAM;YAClC,OAAO;YACP,QAAQ,GAAG,CAAC;YACZ,OAAO;gBACL,OAAO;YACT;QACF;QAEA,IAAI,CAAC,OAAO,IAAI,CAAC,UAAU,CAAC,WAAW;YACrC,QAAQ,GAAG,CAAC;YACZ,OAAO;gBACL,OAAO;YACT;QACF;QAEA,iBAAiB;QACjB,uDAAuD;QACvD,8BAA8B;QAE9B,MAAM,WAAW,KAAK,GAAG,KAAK,MAAM,OAAO,IAAI;QAC/C,MAAM,YAAY,4GAAI,CAAC,IAAI,CAAC,QAAQ,GAAG,IAAI,UAAU;QACrD,MAAM,gIAAE,CAAC,KAAK,CAAC,WAAW;YAAE,WAAW;QAAK;QAE5C,MAAM,cAAc,MAAM,OAAO,WAAW;QAC5C,MAAM,SAAS,OAAO,IAAI,CAAC;QAE3B,MAAM,WAAW,4GAAI,CAAC,IAAI,CAAC,WAAW;QACtC,MAAM,gIAAE,CAAC,SAAS,CAAC,UAAU;QAE7B,QAAQ,GAAG,CAAC;QACZ,QAAQ,GAAG,CAAC,gBAAgB,CAAC,SAAS,EAAE,UAAU;QAClD,OAAO;YACL,SAAS;YACT,SAAS;QACX;IACF;AACF;;;IAhDsB;;AAAA,+OAAA","debugId":null}},
    {"offset": {"line": 75, "column": 0}, "map": {"version":3,"sources":["file:///Users/admin/Desktop/team4-ignite-react/.next-internal/server/app/profile/page/actions.js%20%28server%20actions%20loader%29"],"sourcesContent":["export {updateProfile as '402da7858debface4662b90ba47b280310cacb94c6'} from 'ACTIONS_MODULE0'\n"],"names":[],"mappings":";AAAA","debugId":null}},
    {"offset": {"line": 100, "column": 0}, "map": {"version":3,"sources":["file:///Users/admin/Desktop/team4-ignite-react/src/app/profile/page.js"],"sourcesContent":["import { updateProfile } from '../actions/profile-actions';\n\nexport default function ProfilePage() {\n  return (\n    <div className=\"p-8\">\n      <h1 className=\"text-3xl font-bold mb-6\">프로필 설정</h1>\n\n      <form action={updateProfile} className=\"space-y-4 max-w-md\">\n        <div>\n          <label className=\"block mb-2\">프로필 사진</label>\n          <input name=\"avatar\" type=\"file\" accept=\"image/*\" className=\"w-full\" />\n          <p className=\"text-sm text-gray-500 mt-1\">최대 5MB, JPG/PNG 형식</p>\n        </div>\n\n        <div>\n          <label className=\"block mb-2\">이름</label>\n          <input name=\"name\" type=\"text\" required className=\"w-full px-3 py-2 border rounded\" />\n        </div>\n\n        <div>\n          <label className=\"block mb-2\">자기소개</label>\n          <textarea\n            name=\"bio\"\n            rows=\"3\"\n            className=\"w-full px-3 py-2 border rounded\"\n            placeholder=\"간단한 자기소개를 작성해주세요\"\n          />\n        </div>\n\n        <button\n          type=\"submit\"\n          className=\"bg-blue-500 text-white px-6 py-2 rounded hover:bg-blue-600\"\n        >\n          프로필 업데이트\n        </button>\n      </form>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAAA;;;AAEe,SAAS;IACtB,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAG,WAAU;0BAA0B;;;;;;0BAExC,8OAAC;gBAAK,QAAQ,4JAAa;gBAAE,WAAU;;kCACrC,8OAAC;;0CACC,8OAAC;gCAAM,WAAU;0CAAa;;;;;;0CAC9B,8OAAC;gCAAM,MAAK;gCAAS,MAAK;gCAAO,QAAO;gCAAU,WAAU;;;;;;0CAC5D,8OAAC;gCAAE,WAAU;0CAA6B;;;;;;;;;;;;kCAG5C,8OAAC;;0CACC,8OAAC;gCAAM,WAAU;0CAAa;;;;;;0CAC9B,8OAAC;gCAAM,MAAK;gCAAO,MAAK;gCAAO,QAAQ;gCAAC,WAAU;;;;;;;;;;;;kCAGpD,8OAAC;;0CACC,8OAAC;gCAAM,WAAU;0CAAa;;;;;;0CAC9B,8OAAC;gCACC,MAAK;gCACL,MAAK;gCACL,WAAU;gCACV,aAAY;;;;;;;;;;;;kCAIhB,8OAAC;wBACC,MAAK;wBACL,WAAU;kCACX;;;;;;;;;;;;;;;;;;AAMT","debugId":null}}]
}